# 入力
* Line 1個以上
* 同じラベルは開始ラベルと終了ラベルにちょうど1回ずつ登場

## Line
### normal
```
(開始ラベル, コマンド列, 終了ラベル)

例: (:loop_start, '{{-}}', :loop_cond)
```

### start
```
(座標, 終了ラベル)

例: ([0, -19, :East], :main0)
```

### exit
```
(開始ラベル, コマンド列)

例: (:before_exit, '!{!')
```

### merge
```
(開始ラベル1, 開始ラベル2, 終了ラベル)

例: (:loop, :loop_end, :loop_cond)
```

### branch
```
(開始ラベル, 終了ラベル1, 終了ラベル2)

例: (:loop_cond, :loop_body, :loop_end)
```

# 出力
条件を満たす最小の2次元コマンドマップ

## 条件
* 方向転換コスト
  * `([EW]) → [SN]$1`: 2 (下図)
  * その他: 1
```
 . . . . . 
* * * * \ .
 . . . | . 
. . . . * .
 . . . . * 
. . . . . *
```
* 同じラベルで終了→開始: 同じ方向かつ一直線上
```
 . . . . . 
A A A B B B
 . . . . . 
```
* merge: `N([EW]), S$1 → $1`
```
. A . . . .
 . A . . . 
. . > C C C
 . B . . . 
. B . . . .
```
* branch: `([EW]) → N$1 → S$1`
```
. . . . C .
 . . . C . 
A A A < . .
 . . . B . 
. . . . B .
```
